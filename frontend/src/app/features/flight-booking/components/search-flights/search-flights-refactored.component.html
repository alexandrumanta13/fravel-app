<div class=\"search-flights__container\" [class.searching]=\"isSearching()\" (keydown)=\"onKeyDown($event)\">\n  \n  <!-- Search Summary Card -->\n  <div class=\"search-summary\">\n    \n    <!-- Route Information -->\n    <div class=\"route-section\" *ngIf=\"searchSummary().departure || searchSummary().destination\">\n      <div class=\"route-display\">\n        <div class=\"departure-info\" (click)=\"editDeparture()\">\n          <div class=\"airport-code\" *ngIf=\"searchSummary().departure\">\n            {{ searchSummary().departure!.id }}\n          </div>\n          <div class=\"city-name\">\n            {{ searchSummary().departure?.city.name || 'Plecare' }}\n          </div>\n          <mat-icon class=\"edit-icon\">edit</mat-icon>\n        </div>\n        \n        <div class=\"route-arrow\">\n          <mat-icon *ngIf=\"searchSummary().isOneWay\">trending_flat</mat-icon>\n          <mat-icon *ngIf=\"!searchSummary().isOneWay\">swap_horiz</mat-icon>\n        </div>\n        \n        <div class=\"destination-info\" (click)=\"editDestination()\">\n          <div class=\"airport-code\" *ngIf=\"searchSummary().destination\">\n            {{ searchSummary().destination!.id }}\n          </div>\n          <div class=\"city-name\">\n            {{ searchSummary().destination?.city.name || 'Destinație' }}\n          </div>\n          <mat-icon class=\"edit-icon\">edit</mat-icon>\n        </div>\n      </div>\n      \n      <div class=\"trip-type\">\n        {{ searchSummary().isOneWay ? 'Doar dus' : 'Dus-întors' }}\n      </div>\n    </div>\n    \n    <!-- Dates Section -->\n    <div class=\"dates-section\" (click)=\"editDates()\" *ngIf=\"searchSummary().departureDate\">\n      <div class=\"dates-header\">\n        <mat-icon>date_range</mat-icon>\n        <span>Date călătorie</span>\n        <mat-icon class=\"edit-icon\">edit</mat-icon>\n      </div>\n      <div class=\"dates-display\">\n        <div class=\"departure-date\">\n          <span class=\"date-label\">Plecare:</span>\n          <span class=\"date-value\">{{ datesSummaryText() }}</span>\n        </div>\n        <div class=\"return-date\" *ngIf=\"!searchSummary().isOneWay && searchSummary().returnDate\">\n          <span class=\"date-label\">Întoarcere:</span>\n          <span class=\"date-value\">{{ dateUtils.formatForDisplay(searchSummary().returnDate!) }}</span>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Passengers & Baggage Section -->\n    <div class=\"passengers-section\" (click)=\"editPassengers()\">\n      <div class=\"section-header\">\n        <mat-icon>people</mat-icon>\n        <span>Pasageri & Bagaje</span>\n        <mat-icon class=\"edit-icon\">edit</mat-icon>\n      </div>\n      \n      <div class=\"passengers-display\">\n        <!-- Passengers Count -->\n        <div class=\"passengers-count\">\n          <div class=\"passenger-type\" *ngIf=\"searchSummary().passengers.adults > 0\">\n            <mat-icon>person</mat-icon>\n            <span>{{ searchSummary().passengers.adults }} Adulți</span>\n          </div>\n          <div class=\"passenger-type\" *ngIf=\"searchSummary().passengers.children > 0\">\n            <mat-icon>child_care</mat-icon>\n            <span>{{ searchSummary().passengers.children }} Copii</span>\n          </div>\n          <div class=\"passenger-type\" *ngIf=\"searchSummary().passengers.infants > 0\">\n            <mat-icon>child_friendly</mat-icon>\n            <span>{{ searchSummary().passengers.infants }} Infanți</span>\n          </div>\n        </div>\n        \n        <!-- Baggage Info -->\n        <div class=\"baggage-info\" *ngIf=\"searchSummary().baggage.handBags > 0 || searchSummary().baggage.holdBags > 0\">\n          <div class=\"baggage-item\" *ngIf=\"searchSummary().baggage.handBags > 0\">\n            <mat-icon>work</mat-icon>\n            <span>{{ searchSummary().baggage.handBags }} Bagaj de mână</span>\n          </div>\n          <div class=\"baggage-item\" *ngIf=\"searchSummary().baggage.holdBags > 0\">\n            <mat-icon>luggage</mat-icon>\n            <span>{{ searchSummary().baggage.holdBags }} Bagaj de cală</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n  </div>\n  \n  <!-- Validation Messages -->\n  <div class=\"validation-section\" *ngIf=\"!validation().isValid\">\n    <div class=\"validation-errors\">\n      <div class=\"error-item\" *ngFor=\"let error of validation().errors\">\n        <mat-icon>error</mat-icon>\n        <span>{{ error }}</span>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Warnings -->\n  <div class=\"warnings-section\" *ngIf=\"validation().warnings.length > 0\">\n    <div class=\"warning-item\" *ngFor=\"let warning of validation().warnings\">\n      <mat-icon>warning</mat-icon>\n      <span>{{ warning }}</span>\n    </div>\n  </div>\n  \n  <!-- Search Error -->\n  <div class=\"error-section\" *ngIf=\"searchError()\">\n    <div class=\"error-message\">\n      <mat-icon>error_outline</mat-icon>\n      <span>{{ searchError() }}</span>\n      <button mat-icon-button (click)=\"searchError.set(null)\" class=\"close-error\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </div>\n  </div>\n  \n  <!-- Search Actions -->\n  <div class=\"search-actions\">\n    <button \n      mat-fab \n      extended \n      color=\"primary\"\n      [disabled]=\"!canSearch()\"\n      (click)=\"searchFlights()\"\n      class=\"search-button\"\n    >\n      <mat-icon *ngIf=\"!isSearching()\">search</mat-icon>\n      <mat-spinner \n        *ngIf=\"isSearching()\" \n        diameter=\"20\" \n        color=\"accent\"\n      ></mat-spinner>\n      <span *ngIf=\"!isSearching()\">Caută zboruri</span>\n      <span *ngIf=\"isSearching()\">Se caută...</span>\n    </button>\n    \n    <!-- Quick Stats -->\n    <div class=\"quick-stats\" *ngIf=\"!isSearching() && validation().isValid\">\n      <div class=\"stat-item\">\n        <span class=\"stat-value\">{{ searchSummary().passengers.total }}</span>\n        <span class=\"stat-label\">{{ searchSummary().passengers.total === 1 ? 'Pasager' : 'Pasageri' }}</span>\n      </div>\n      \n      <div class=\"stat-item\" *ngIf=\"searchSummary().departureDate\">\n        <span class=\"stat-value\">\n          {{ dateUtils.differenceInDays(new Date(), searchSummary().departureDate!) }}\n        </span>\n        <span class=\"stat-label\">Zile până la plecare</span>\n      </div>\n      \n      <div class=\"stat-item\" *ngIf=\"!searchSummary().isOneWay && searchSummary().departureDate && searchSummary().returnDate\">\n        <span class=\"stat-value\">\n          {{ dateUtils.differenceInDays(searchSummary().departureDate!, searchSummary().returnDate!) }}\n        </span>\n        <span class=\"stat-label\">{{ dateUtils.differenceInDays(searchSummary().departureDate!, searchSummary().returnDate!) === 1 ? 'Zi' : 'Zile' }} călătorie</span>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Last Search Info -->\n  <div class=\"last-search-info\" *ngIf=\"lastSearchTime() && !isSearching()\">\n    <mat-icon>history</mat-icon>\n    <span>Ultima căutare: {{ dateUtils.formatDateTime(lastSearchTime()!) }}</span>\n  </div>\n  \n</div>"